<!DOCTYPE html>
<html>

<head>
    <title>治具準備紀錄</title>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- import Bootstrap 3  -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
    <!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script> -->
    
    <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script> 
    <script src="https://code.jquery.com/ui/1.12.0/jquery-ui.min.js"></script> 
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>
    <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.7.5/css/bootstrap-select.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.7.5/js/bootstrap-select.min.js"></script>

    <!-- import react  package-->
    <script src="https://unpkg.com/react@15/dist/react.min.js"></script>
    <script src="https://unpkg.com/react-dom@15/dist/react-dom.min.js"></script>
    <script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>

    <!-- import Redux  -->
    <script src="https://unpkg.com/redux@3.7.2/dist/redux.min.js"></script>

    <!-- import D3.js -->
    <script src="http://d3js.org/d3.v4.min.js"></script>
    <!-- <link rel="stylesheet" href="/web/css/barchart.css"> -->

    <!-- import css -->
    <!-- <link rel="stylesheet" href="/web/css/portal.css"> -->
    <!-- <link rel="stylesheet" href="/web/css/capsule.css"> -->
    <!-- <link rel="stylesheet" href="/web/css/loader.css"> -->
    <!-- <link rel="stylesheet" href="/web/css/report.css"> -->


</head>


<body data-spy="scroll" data-target=".navbar" data-offset="50">

    <nav class="nav navbar-inverse">
    </nav>
    <style>
        .headerDivider1 { 
    border-left:1px solid #38546d; 
    border-right:1px solid #16222c; 
    height:80px; 
    position:absolute; 
    right:249px; 
    top:10px; 
} 
.verticalDivider { 
    
    border-right:1px solid gray; 
    height:20px; 
    margin-left:10px;
    margin-right:10px;
    
    
} 
    table {
        display: block;
        overflow-x: auto;
        white-space: nowrap;
    }
    td {
        height:35px;
        /* width:350px; */
        padding:5px;
    }
    .spacetd{
        width:100%;
    }

    </style>

    <div class="tab-content">

        <!-- 3 Service Quota -->
        <div id="servicequota" class="tab-pane fade container in active">

            <div class="table-responsive custom-table-width">
                <h3>編輯生產報告</h3>

                <hr>
                <h4><span class="glyphicon glyphicon-stop"></span> 準備工段 & 人員:</h4>
                <div style="padding-left:15px ; background-color:rgba(240,240,240,0.5)">
                    <table>
                        <tr>
                            <td>
                                <label>負責人: </label>
                            </td>
                            <td>
                                <select class="form-control" id="sel1">
                                    <option>巴迪</option>
                                    <option>徐志凱</option>
                                    <option>蘇章順</option>
                                    <option>日夜班交接人員</option>
                                  </select>
                            </td>
                            <td style="widows: 30px;"></td>
                            <td>
                                <label>測試時間: </label>
                            </td>
                            <td>
                                <input placeholder="2021/1/24 10:04:38 " style="width:140px;margin-left:5px"> 
                                to 
                                <input placeholder="測試結束自動填入" style="width:140px;margin-left:5px"> 
                            </td>
                            <td>
                                <style>
                                    .btn-default.btn-on.active{background-color: #5BB75B;color: white;}
                                    .btn-default.btn-off.active{background-color: #DA4F49;color: white;}
                                </style>
                                <div class="btn-group" id="status" data-toggle="buttons">
                                    <label class="btn btn-default btn-on btn-sm active">
                                    <input type="radio" value="1" name="multifeatured_module[module_id][status]" checked="checked">開始</label>
                                    <label class="btn btn-default btn-off btn-sm ">
                                    <input type="radio" value="0" name="multifeatured_module[module_id][status]">結束</label>
                                  </div>
                            </td>
                            
                        </tr>
                        <tr>
                            <td>
                                <label>工段: </label>
                            </td>
                            <td>
                                <select class="form-control" id="sel1">
                                    <option>工程</option>
                                    <option>鑽孔</option>
                                    <option>組裝</option>
                                  </select>
                            </td>
                            <td>
                                <label>機台: </label>
                            </td>
                            <td>
                                <select class="form-control" id="sel1">
                                    <option>工程A</option>
                                    <option>工程B</option>
                                    <option>工程C</option>
                                    <option>工程D</option>
                                  </select>
                            </td>
                            
                            
                        </tr>
                    </table>
                    <br/>
                </div>
                <hr>
                <h4><span class="glyphicon glyphicon-stop"></span> 基本資訊:</h4>
                <div style="padding-left:15px ; background-color:rgba(240,240,240,0.5)">
                    <style>
                        td {
                            height:35px;
                            /* width:350px; */
                            padding:5px;
                        }
                        .spacetd{
                            width:100%;
                        }
                    </style>
                    <table>
                        <tr>
                            <td>
                                <label>工單編號: </label>
                            </td>
                            <td>
                                <input placeholder="1234567890-456" style="margin-left:5px"> 
                            </td>
                            <td>
                                <label>客戶: </label>
                            </td>
                            <td>
                                <input placeholder="T" style="margin-left:5px"> 
                            </td>
                            <td class="spacetd"></td>
                            <td>
                                <button type="button" class="btn btn-primary btn-sm">
                                    <span class="glyphicon glyphicon-floppy-disk"></span> 儲存更新內容
                                  </button>
                            </td>
                            <td style="padding-left:5px">
                                <button type="button" class="btn btn-primary">出貨</button>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <label>料號: </label>
                            </td>
                            <td>
                                <input placeholder="04CXR092H001" style="margin-left:5px"> 
                            </td>
                            <td>
                                <label>批號: </label>
                            </td>
                            <td>
                                <input placeholder="7137" style="width:120px;margin-left:5px"> 
                            </td>
                        </tr>
    
                        <tr>
                            <td>
                                <label>測試起始時間: </label>
                            </td>
                            <td>
                                <input placeholder="2021/1/24 10:00:00" style="margin-left:5px"> 
                            </td>
                            <td>
                                <label>測試結束時間: </label>
                            </td>
                            <td>
                                <input placeholder="" style="margin-left:5px"> 
                            </td>
                        </tr>
                    </table>
                </div>

                
                <!-- <button type="button" class="btn btn-primary" style="position:absolute;right:120px">儲存更新內容</button>
                    <button type="button" class="btn btn-primary" style="position:absolute;right:10px">出貨</button> -->

                <hr>


                
                
                

            </div>

        </div>
        <hr />

<!-- Modal -->
<div class="modal fade" id="modal_AddOutline" role="dialog">
    <div class="modal-dialog">
        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title">新增大綱</h4>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label>大綱</label>
                    <textarea id="new_acct_alias" placeholder="輸入分場大綱" class="form-control" rows="5" ></textarea>
                    <br/>
                    <label>場景</label>
                    <select class="form-control" id="sel1">
                        <option value="1">飛機場</option>
                        <option value="2">艾拉家</option>
                        <option value="3">東翼大學校園</option>
                        <option value="4">東翼隊休息室</option>
                        <option value="5">東翼隊球場</option>
                        <option value="6">UFA會議室</option>
                        <option value="7">西門隊總教練辦公室</option>
                        <option value="8">比賽 - 足球場</option>
                        <option value="9">當鋪</option>
                        <option value="10">海邊集訓地 - 球場</option>
                        <option value="11">海邊集訓地 - 澡堂</option>
                        <option value="12">海邊集訓地 - 通舖</option>
                        <option value="13">海邊集訓地 - 艾拉臥室</option>
                        <option value="14">比賽 - 休息室</option>
                        <option value="15">比賽 - 場地外圍</option>
                    </select>
                    <br/>
                    <label>場景描述</label>
                    <input type="text" class="form-control" id="usr" placeholder="日/夜...等">
                    
                    <br/>
                    <label>角色</label>
                    <br/>
                    <label class="checkbox-inline"><input type="checkbox" value="1">艾拉</label>
                    <label class="checkbox-inline"><input type="checkbox" value="2">王冠強</label>
                    <label class="checkbox-inline"><input type="checkbox" value="3">王子</label>
                    <label class="checkbox-inline"><input type="checkbox" value="4">Queen</label>
                    <label class="checkbox-inline"><input type="checkbox" value="5">Jacky</label>
                    <label class="checkbox-inline"><input type="checkbox" value="6">恩師</label>
                    <label class="checkbox-inline"><input type="checkbox" value="7">Francis</label>
                    <label class="checkbox-inline"><input type="checkbox" value="8">Stone</label>
                    <label class="checkbox-inline"><input type="checkbox" value="9">Irving</label>
                    <label class="checkbox-inline"><input type="checkbox" value="10">嘉能</label>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary" data-dismiss="modal" onclick="addUser()">Submit</button>
            </div>
        </div>
    </div>
</div>
<div class="modal fade" id="modal_acct_permission_change" role="dialog">
    <div class="modal-dialog">
        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title">Change Permission</h4>
            </div>
            <div class="modal-body">
                <label>TAM Alias:</label>
                <input id="to_be_change_acct" type="text" style="width:300px;padding-left:5px"></input>
                <br/>
                <label>Current Permission</label>
                <input id="to_be_change_permission" type="text" style="width:300px;padding-left:5px"></input>
            </div>
            <div class="modal-body">
                <label>New Permission:</label>
                <input id="change_permission" type="text" placeholder="choose permission: guest, pilot, gcr" style="width:300px;padding-left:5px"></input>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary" data-dismiss="modal" onclick="changeAcctPermission()">Submit</button>
            </div>
        </div>
    </div>
</div>
       
<script>    
    function addOutline() {
        // alert('New value: ' + myRadio.value);
        // alert('Name: ' + myRadio.name);
        // optradio_q2_2

        new_acct_alias = document.getElementById("new_acct_alias").value;
        new_permission = document.getElementById("new_permission").value;
        // 
        $.ajax({
            // url: '/json/mock/cx_score_detail.json',
            url: '/addUser',
            type: 'POST',
            data: {acct_alias:new_acct_alias,permission:new_permission},
            dataType: 'json',
            success: function (json) {
                if(json.result!="success"){
                    console.log("Update detail")
                    console.log(json);
                    alert(json.message);
                    location.reload();
                }else{
                    console.log("Update detail")
                    console.log(json);
                }
                
                
            }
        });       
    }
    function changeAcctPermission() {
        // alert('New value: ' + myRadio.value);
        // alert('Name: ' + myRadio.name);
        // optradio_q2_2

        to_be_change_acct = document.getElementById("to_be_change_acct").value;
        to_be_change_permission = document.getElementById("to_be_change_permission").value;
        change_permission = document.getElementById("change_permission").value;

        if(change_permission.length<1){
            alert("Please input new permission.");
        }else{

            $.ajax({
                // url: '/json/mock/cx_score_detail.json',
                url: '/changeAcctPermission',
                type: 'POST',
                data: {acct_alias:to_be_change_acct,permission:change_permission},
                dataType: 'json',
                success: function (json) {
                    if(json.result!="success"){
                        console.log("Update detail")
                        console.log(json);
                        alert(json.message);
                        location.reload();
                    }else{
                        console.log("Update detail")
                        console.log(json);
                    }
                    
                    
                }
            });  
        }

             
    }
    function handleChangeScore(myItem) {
        // alert('New value: ' + myRadio.value);
        // alert('Name: ' + myRadio.name);
        // alert("test");
        var div_id = myItem.id.replace("change_","rating-block-");
        
        // alert($("#"+div_id).getAttribute('data-value'))
        if($("#"+div_id).is(":visible") ){
            $("#"+div_id).hide();
        }else{
            
            $("#"+div_id).show();
        }
        
        

    }
    
</script>
<script src="../js/component/Navbar.js"></script>
</body>

</html>